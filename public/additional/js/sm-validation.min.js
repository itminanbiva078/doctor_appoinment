if("undefined"==typeof jQuery)throw new Error("SM Validation JavaScript needs jQuery JS file.");var smValidator;function ValidateEmail(e){return!!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,5})+$/.test(e)}function datemonthValiate(e){return!!/^[0-9]{2}\/[0-9]{4}$/.test(e)}function visaCard(e){var a=e.replace(/-/g,"");a=a.replace(/ /g,"");return!!/^[4]{1}[0-9]{15}$/.test(a)}function masterCard(e){var a=e.replace(/-/g,"");a=a.replace(/ /g,"");return!(!/^[5]{1}[0-9]{15}$/.test(a)&&!/^[2]{1}[0-9]{15}$/.test(a))}function phonenumber(e){var a=e.replaceAll("-","");a=a.replaceAll(" ","");return!!/^[\s()+-]*([0-9][\s()+-]*){6,20}$/.test(a)}function isUrlValid(e){return null!=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)}function showError(e,a){e.parent("div").addClass("has-error"),e.siblings(".help-block").length>0?e.siblings(".help-block").html(a[0]):e.after('<i class="help-block">'+a[0]+"</i>")}function removeError(e){e.parent("div").removeClass("has-error"),e.siblings(".help-block").length>0&&e.siblings(".help-block").remove()}$(document).ajaxError(function(){return $(".log").text("Triggered ajaxError handler."),!1}),function(e){smValidator=function(a,r,s,t,n){var i=!1;function l(a,r){var s=0;if("object"==jQuery.type(r))for(var t in r){var n=r[t],o=[],c=e("#"+a).find('[name="'+t+'"]');if("object"==jQuery.type(n))for(var u in n){var p=n[u];if("object"==jQuery.type(p))if(c.length>0||"count"==u||"reCaptcha"==u){if("count"!=u&&"reCaptcha"!=u){if("undefined"!=typeof CKEDITOR)for(var m in CKEDITOR.instances)CKEDITOR.instances[m].updateElement();var d=c.val(),g=d.length}if("notEmpty"==u)g<1&&(s++,o.push(p.message));else if(g>0&&"stringLength"==u)p.min&&p.max?(g<p.min||g>p.max)&&(p.max&&g>p.max?c.val(d.substr(0,p.max)):(s++,o.push(p.message))):g<p.min&&(s++,o.push(p.message));else if(g>0&&"match"==u)e("#"+a).find('[name="'+p.field+'"]').val()!=d&&(s++,o.push(p.message));else if(g>0&&"email"==u)void 0!==n.notEmpty?ValidateEmail(d)||(s++,o.push(p.message)):g>0&&(ValidateEmail(d)||(s++,o.push(p.message)));else if(g>0&&"mobile"==u)void 0!==n.notEmpty?phonenumber(d)||(s++,o.push(p.message)):g>0&&(phonenumber(d)||(s++,o.push(p.message)));else if(g>0&&"count"==u){var f=0;"checkbox"==p.type?e("."+p.countClass).each(function(){e(this).is(":checked")&&f++}):"class"==p.type&&e(p.selector).each(function(){f++}),f<p.min?(s++,e("#"+p.massageDivId+"_warning").length>0?e("#"+p.massageDivId+"_warning").html('<i class="help-block">'+p.message+"</i>"):e("#"+p.massageDivId).after('<div id="'+p.massageDivId+'_warning" class="has-error"><i class="help-block">'+p.message+"</i></div>")):e("#"+p.massageDivId+"_warning").remove()}else if(g>0&&"remote"==u){var h=t+"="+d;e.ajax({url:p.url,type:p.type,async:!1,data:h,success:function(e){1==parseInt(e)&&(s++,o.push(p.message))},error:function(e){o.push(p.message)}})}else if(g>0&&"itsDependable"==u){if(g>0&&p.rules[d]){var v=p.rules[d];s+=l(a,v)}}else if(g>0&&"visaCard"==u)visaCard(d)||(s++,o.push(p.message));else if(g>0&&"masterCard"==u)masterCard(d)||(s++,o.push(p.message));else if(g>0&&"cardDateMonth"==u)datemonthValiate(d)||(s++,o.push(p.message));else if(g>0&&"url"==u)isUrlValid(d)||(s++,o.push(p.message));else if(g>0&&"custom"==u){var b=p.callback(c,d,g);b.error>0&&(s++,o.push(b.message))}else if("reCaptcha"==u){if(c=e("#g-recaptcha-response").parent("div").parents(".g-recaptcha"),e(".g-recaptcha").length>0)i=!0,0==grecaptcha.getResponse().length&&(s++,o.push(p.message))}}}o.length>0?showError(c,o):removeError(c)}return s}for(var o in r)e("#"+a+' [name="'+o+'"]').on("keyup",function(){var s=e(this).attr("name"),t={};t[s]=r[s],l(a,t)}),e("#"+a+' [name="'+o+'"]').on("change",function(){var s=e(this).attr("name"),t={};t[s]=r[s],l(a,t)});if(2==s){e(".loading").length>0&&e(".loading").fadeOut();var c=l(a,r);return i&&grecaptcha.reset(),!(c>0)}3==s?e("#"+a).on("submit",function(a){e(".loading").length>0&&e(".loading").fadeIn();var s=e(this).attr("id"),c=l(s,r);if(i&&grecaptcha.reset(),e("#"+s).find('[type="submit"]').prop("disabled",!0),0===c){void 0!==n&&n();var u=e("#"+s).serialize(),p=e("#"+s).attr("method"),m=e("#"+s).attr("action");e.ajax({type:p,url:m,data:u,success:function(a){if(e("#"+s).find('[type="submit"]').removeAttr("disabled"),"object"==jQuery.type(r))for(o in r)e("#"+s).find('[name="'+o+'"]').val("");e(".loading").length>0&&e(".loading").fadeOut(),t({isSuccess:!0,response:a})},error:function(a){e("#"+s).find('[type="submit"]').removeAttr("disabled"),console.log(a);var r=a.responseJSON.errors,n="";for(var i in r){var l=e("#"+s).find('[name="'+i+'"]');if(l.length>0)showError(l,r[i]);else n+=r[i][0]+" \n"}t(""!=n?{isSuccess:!1,response:n}:{isSuccess:!1,response:a.responseJSON.message}),e(".loading").length>0&&e(".loading").fadeOut()}})}else e("#"+s).find('[type="submit"]').removeAttr("disabled"),e(".loading").length>0&&e(".loading").fadeOut();return!1}):e("#"+a).on("submit",function(e){var s=l(a,r);if(i&&grecaptcha.reset(),s>0)return!1})}}(jQuery),String.prototype.replaceAll=function(e,a){return this.replace(new RegExp(e,"g"),a)};